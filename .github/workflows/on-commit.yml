name: learn-github-actions

on:
  workflow_dispatch:
    inputs:
      produceError:
        description: 'Do you want this pipeline to fail and recover?'
        required: true
        type: boolean
        default: false
      randomMax:
        description: 'Biggest random number to generate'
        required: true
        default: "1024"
      greetingString:
        description: 'How do you want to be greeted?'
        required: true
        type: choice
        options:
        - "a"
        - "b"

jobs:
  some-job:
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository
        uses: actions/checkout@v3
      - id: greeter
        name: Use my local greeter
        uses: ./.github/actions/hello
        with:
          who-to-greet: Fabian
        continue-on-error: true
      - name: Print generated random number
        run: echo random-number ${{ steps.greeter.outputs.random-number }}
